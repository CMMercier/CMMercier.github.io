<!DOCTYPE html>
<html>
  <head>
    <title>OWASP Juice Shop Walkthrough</title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />


<link rel="stylesheet" href="/css/bootstrap.min.css"/>
<link rel="stylesheet" href="/css/layouts/main.css"/>
<link rel="stylesheet" href="/css/navigators/navbar.css"/>
<link rel="stylesheet" href="/css/plyr.css"/>
<link rel="stylesheet" href="/css/flag-icon.min.css"/>


<link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" />




<meta property="og:title" content="OWASP Juice Shop Walkthrough" />
<meta property="og:description" content="I run through the steps I took to get my own personal Juice Shop up and running easily and for free and then I explain the steps I took to complete each task on the scoreboard." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/posts/owasp-juice-shop-walkthrough/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-09-19T00:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-09-19T00:00:00&#43;00:00" />



    
    
<meta name="description" content="I run through the steps I took to get my own personal Juice Shop up and running easily and for free and then I explain the steps I took to complete each task on the scoreboard." />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css"
/>
<link rel="stylesheet" href="/css/layouts/single.css"/>
<link rel="stylesheet" href="/css/navigators/sidebar.css">

<link rel="stylesheet" href="/css/style.css"/>



    
    
        
        
          
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-122321624-2', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

        
    
  </head>

  <body data-spy="scroll" data-target="#TableOfContents" data-offset="80">
    <div class="container-fluid bg-dimmed wrapper">
      
      
    





  


  




  
  
    
  
  



  
  
    
  
  


<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
  <div class="container">
      <button class="navbar-toggler navbar-light" id="sidebar-toggler" type="button" onclick="toggleSidebar()">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/">
      
        <img src="/images/site/main-logo_hudad8b06f5df9584902d36e554221237e_21318_42x0_resize_box_2.png" alt="Logo">
      Crystal Mercier</a>
    <button class="navbar-toggler navbar-light" id="toc-toggler" type="button" onclick="toggleTOC()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse lang-selector" id="top-nav-items">
      <ul class="navbar-nav ml-auto">
      
      </ul>
    </div>
  </div>
  
  
    <img src="/images/site/main-logo_hudad8b06f5df9584902d36e554221237e_21318_42x0_resize_box_2.png" class="d-none" id="main-logo" alt="Logo">
  
  
    <img src="/images/site/inverted-logo_hudaa24b0be3ab59526a1d9eec311eb387_21454_42x0_resize_box_2.png" class="d-none" id="inverted-logo" alt="Inverted Logo">
  
</nav>



      
      
  <section class="sidebar-section" id="sidebar-section">
    <div class="sidebar-holder">
      <div class="sidebar" id="sidebar">
        <form class="mx-auto" method="get" action="/search">
          <input type="text" name="keyword" value="" placeholder="Search" data-search="" id="search-box" />
        </form>
        <div class="sidebar-tree">
          <ul class="tree" id="tree">
            <li id="list-heading"><a href="/posts" data-filter="all">Posts</a></li>
            <div class="subtree">
                
  
  
  
  
  
    
    <li><a class="" href="/posts/website-guide/" title="Build your own Hugo website">Build your own Hugo website</a></li>
  

  
  
  
  
    
    
  
  
    
    <li><a class="active" href="/posts/owasp-juice-shop-walkthrough/" title="OWASP Juice Shop Walkthrough">OWASP Juice Shop Walkthrough</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/owasp-mutillidae-ii/" title="OWASP Mutillidae II Walkthrough">OWASP Mutillidae II Walkthrough</a></li>
  


            </div>
          </ul>
        </div>
      </div>
    </div>
  </section>


      
      
<section class="content-section" id="content-section">
  <div class="content">
    <div class="container p-0 read-area">
      
      <div class="hero-area col-sm-12" id="hero-area" style='background-image: url(/posts/owasp-juice-shop-walkthrough/hero.jpg);'>
      </div>

      
      <div class="page-content">
        <div class="author-profile ml-auto align-self-lg-center">
          <img class="rounded-circle" src='/images/author/crystal_hu56daec2eff645d56fb53cd8db157a676_63575_120x120_fit_q75_box.jpg' alt="Author Image">
          <h5 class="author-name">Crystal Mercier</h5>
          <p>September 19, 2021</p>
        </div>

        <div class="title">
          <h1>OWASP Juice Shop Walkthrough</h1>
        </div>

        <div class="post-content" id="post-content">
          <h3 id="setup">Setup</h3>
<p>For this I visted <a href="https://elements.heroku.com/buttons/bkimminich/juice-shop">https://elements.heroku.com/buttons/bkimminich/juice-shop</a> and looked through the many options to get my own personal instance
of Juice Shop setup. The first option, Deploy on Heroku for free, caught my eye. For this I simply had to:</p>
<ol>
<li>Sign up to Heroku and log in.</li>
<li>Click the provided deploy button.</li>
</ol>
<p>This really is the fastest and simplist way to get setup, and its free!</p>
<p>After I clicked deploy I had to give the app a name and wait for it to build. Really the longest part of this was waiting for it to build.
Now that the Juice Shop app is up and running its time to get hacking!</p>
<p>Note: Hacking progress is restored on server resets but deleting your cookies will destroy your progress!</p>
<h3 id="1--challenges">1 * Challenges</h3>
<h5 id="scoreboard">Scoreboard</h5>
<p>Category: Miscellaneous</p>
<p>First to find access to the scoreboard. I remembered it existed but not where and forgot that it was actually a part of the challenges so I took
to google and did a quick search for its location.</p>
<p><a href="https://exampleapp.herokuapp.com/#/score-board">https://exampleapp.herokuapp.com/#/score-board</a></p>
<p>First challenge complete: Score Board (Find the carefully hidden &lsquo;Score Board&rsquo; page.)</p>
<h5 id="bonus-payload">Bonus Payload</h5>
<p>Category: XSS</p>
<p>This challenge is as simple as adding the provided payload to the search function.</p>
<p>You successfully solved a challenge: Bonus Payload (Use the bonus payload
<code>&lt;iframe width=&quot;100%&quot; height=&quot;166&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; allow=&quot;autoplay&quot;  src=&quot;https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/771984076&amp;color=%23ff5500&amp;auto_play=true&amp;hide_related=false&amp;show _comments=true&amp;show_user=true&amp;show_reposts=false&amp;show_teaser=true&quot;&gt;&lt;/iframe&gt;</code> in the DOM XSS challenge.)</p>
<p>Link to learning about preventing DOM based XSS:
<a href="https://cheatsheetseries.owasp.org/cheatsheets/DOM_based_XSS_Prevention_Cheat_Sheet.html">https://cheatsheetseries.owasp.org/cheatsheets/DOM_based_XSS_Prevention_Cheat_Sheet.html</a></p>
<h5 id="bully-chatbot">Bully Chatbot</h5>
<p>Category: Miscellaneous</p>
<p>To access the Chatbot I created a new account on the site then opened up the menu and selected the support chat. I really just had to send any
message containing the words &ldquo;coupon code&rdquo; enough times for it to give up and hand over a code.</p>
<p>You successfully solved a challenge: Bully Chatbot (Receive a coupon code from the support chatbot.)</p>
<h5 id="confidential-document">Confidential Document</h5>
<p>Category:  Sensitive Data Exposure</p>
<p>The hints:</p>
<blockquote>
<p>Somewhere in the application you can find a file that contains sensitive information about some - potentially hostile - takeovers the Juice Shop top management has planned.</p>
</blockquote>
<blockquote>
<p>-Analyze and tamper with links in the application that deliver a file directly.</p>
</blockquote>
<blockquote>
<p>-The file you are looking for is not protected in any way. Once you found it you can also access it.</p>
</blockquote>
<p>In the About Us section I found a link &ldquo;Check out our boring terms of use if you are interested in such lame stuff.&rdquo; that opened up a download
window to gete a legal.md document. I opened up burp suite and intercepted this request there and noticed the GET request was to a ftp server.</p>
<p>So I checked to see if something simple like <a href="https://exampleapp.herokuapp.com/ftp">https://exampleapp.herokuapp.com/ftp</a> would work and it did!</p>
<p><img src="/images/posts/owasp/ftp.png" alt="ftp page"></p>
<h5 id="dom-xss">DOM XSS</h5>
<p>Category: XSS</p>
<blockquote>
<p>Perform a DOM XSS attack with <code>&lt;iframe src=&quot;javascript:alert(</code>xss<code>)&quot;&gt;</code>.</p>
</blockquote>
<p>This is another task where I was able to simply just copy the script provided and paste it into the search function to complete this challenge.</p>
<p>You successfully solved a challenge: DOM XSS (Perform a DOM XSS attack with <code>&lt;iframe src=&quot;javascript:alert(</code>xss<code>)&quot;&gt;</code>.)</p>
<p>To learn how to provent this attack please visit <a href="https://cheatsheetseries.owasp.org/cheatsheets/DOM_based_XSS_Prevention_Cheat_Sheet.html">https://cheatsheetseries.owasp.org/cheatsheets/DOM_based_XSS_Prevention_Cheat_Sheet.html</a>.</p>
<h5 id="error-handling">Error Handling</h5>
<p>Category:  Security Misconfiguration</p>
<blockquote>
<p>Provoke an error that is neither very gracefully nor consistently handled.</p>
</blockquote>
<p>This one has so many ways to trigger it that I ended up completing it and didn&rsquo;t even notice.</p>
<p>To learn how to properly handle errors please take a look at <a href="https://cheatsheetseries.owasp.org/cheatsheets/Error_Handling_Cheat_Sheet.html">https://cheatsheetseries.owasp.org/cheatsheets/Error_Handling_Cheat_Sheet.html</a>.</p>
<h5 id="exposed-metrics">Exposed Metrics</h5>
<p>Category:  Sensitive Data Exposure</p>
<blockquote>
<p>Find the endpoint that serves usage data to be scraped by a popular monitoring system.</p>
</blockquote>
<p>The hints pretty much give this one away. A quick read through and the name of this challenge made it obvious that the path I was looking for
was /metrics/.</p>
<blockquote>
<p>Guessing the path is probably just as quick as taking the RTFM route via <a href="https://prometheus.io/docs/introduction/first_steps">https://prometheus.io/docs/introduction/first_steps</a></p>
</blockquote>
<p>You successfully solved a challenge: Exposed Metrics (Find the endpoint that serves usage data to be scraped by a popular monitoring system.)</p>
<h5 id="missing-encoding">Missing Encoding</h5>
<p>Category:  Improper Input Validation</p>
<blockquote>
<p>Retrieve the photo of Bjoern&rsquo;s cat in &ldquo;melee combat-mode&rdquo;.</p>
</blockquote>
<p>Luckily this was as easy as url encoding the #&rsquo;s to %23 because that emoji really had me scratching my head for a bit there.</p>
<p><a href="https://www.eso.org/~ndelmott/url_encode.html">https://www.eso.org/~ndelmott/url_encode.html</a></p>
<p><img src="/images/posts/owasp/Encoding.png" alt="encoding"></p>
<p>You successfully solved a challenge: Missing Encoding (Retrieve the photo of Bjoern&rsquo;s cat in &ldquo;melee combat-mode&rdquo;.)</p>
<h5 id="outdated-allowlist">Outdated Allowlist</h5>
<p>Category:  Unvalidated Redirects</p>
<p>For the reading: <a href="https://cheatsheetseries.owasp.org/cheatsheets/Unvalidated_Redirects_and_Forwards_Cheat_Sheet.html">https://cheatsheetseries.owasp.org/cheatsheets/Unvalidated_Redirects_and_Forwards_Cheat_Sheet.html</a></p>
<blockquote>
<p>Let us redirect you to one of our crypto currency addresses which are not promoted any longer.</p>
</blockquote>
<p>For this one I inspected the page to open the debugger window so that I could have a look around the Javascript files to try to find the crypto
currency address. The first place I checked was main-es2018.js and I simply did a search for redirect which had 20 results to check through but
the answer was there and I simply had to paste this blockchain.info link to the app address.</p>
<p><a href="https://exampleapp.herokuapp.com/redirect?to=https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm">https://exampleapp.herokuapp.com/redirect?to=https://blockchain.info/address/1AbKfgvw9psQ41NbLi8kufDQTezwG8DRZm</a></p>
<p><img src="/images/posts/owasp/outdatedallowlist.png" alt="Javascript"></p>
<p>You successfully solved a challenge: Outdated Allowlist (Let us redirect you to one of our crypto currency addresses which are not promoted any longer.)</p>
<h5 id="privacy-policy">Privacy Policy</h5>
<p>Category: Miscellaneous</p>
<blockquote>
<p>Read our privacy policy.</p>
</blockquote>
<p>This simply required me to be logged in and go to Account &gt; Privacy &amp; Security &gt; Privacy Policy.</p>
<p>You successfully solved a challenge: Privacy Policy (Read our privacy policy.)</p>
<h5 id="repetitive-registration">Repetitive Registration</h5>
<p>Category:  Improper Input Validation</p>
<blockquote>
<p>Follow the DRY principle while registering a user.</p>
</blockquote>
<blockquote>
</blockquote>
<blockquote>
<p>The DRY (Don&rsquo;t Repeat Yourself) Principle states:</p>
</blockquote>
<blockquote>
<p>Every piece of knowledge must have a single, unambiguous, authoritative representation within a system.</p>
</blockquote>
<p>This challenge required me to turn on burp and foxyproxy to catch a legit registration attempt and change the value of passwordRepeat then forward
the request.</p>
<p><img src="/images/posts/owasp/repeatregburp.png" alt="burp request"></p>
<p>You successfully solved a challenge: Repetitive Registration (Follow the DRY principle while registering a user.)</p>
<h5 id="zero-stars">Zero Stars</h5>
<p>Category:  Improper Input Validation</p>
<blockquote>
<p>Give a devastating zero-star feedback to the store.</p>
</blockquote>
<p>Reading: <a href="https://cwe.mitre.org/data/definitions/20.html">https://cwe.mitre.org/data/definitions/20.html</a></p>
<p>I found the customer feedback option as the first option on the menu. This page allows us to give a feedback of 1 to 5. Getting around this is
as simple as intercepting the request in burp and changing the rating to 0.</p>
<p><img src="/images/posts/owasp/feedback.png" alt="burp request"></p>
<p>You successfully solved a challenge: Zero Stars (Give a devastating zero-star feedback to the store.)</p>
<h3 id="2--challenges">2 * Challenges</h3>
<h5 id="admin-section">Admin Section</h5>
<p>Category:  Broken Access Control</p>
<blockquote>
<p>Access the administration section of the store.</p>
</blockquote>
<p>The quick and easy first check was to try to guess the admin page location. I tried <a href="https://exampleapp.herokuapp.com/#/admin">https://exampleapp.herokuapp.com/#/admin</a> but no luck there so I
tried administration instead and got a 403 You are not allowed to access this page!. Also turns out you can find this path from the main.js as well
if guessing failed.</p>
<p>I have found the page but I still need to login as the administrator to complete this challege. Going to the login page I see that we need the
administrators email not username to login. So I go back and look through the shop looking for the complete email address somewhere or at least an
@email to just have to guess the name.</p>
<p>On the review for the product Apple Juice contains a review from the admin themselves!</p>
<p><code>admin@juice-sh.op</code></p>
<p>The category for this challenge is injection but theres another challenge to log in without using injection so its time to brute force the login
page instead and complete both challenges in one go. I first attempted this with hydra but soon discovered that hydra is does not work because this
is a client-side AngularJS route. So its time to try with burp! I captured the request and sent it over to intruder. I set the position to the
password and on payload options I loaded a smaller file from seclist called best1050.txt as I only have the free version of burp and it doesnt load
rockyou. Running this attack on the free version is a bit slow but it works and I get the password.</p>
<p><img src="/images/posts/owasp/adminburp.png" alt="burp request"></p>
<p>This completes two challeges:</p>
<p>You successfully solved a challenge: Login Admin (Log in with the administrator&rsquo;s user account.)</p>
<p>You successfully solved a challenge: Password Strength (Log in with the administrator&rsquo;s user credentials without previously changing them or applying SQL Injection.)</p>

        </div>

        
        

        
      <hr />
        







  





  
  

  
    
    
  
  

  
  


<div class="row next-prev-navigator">
  
    <div class="col-md-6 previous-article">
      <a href="/posts/website-guide/" title="How to build your own Hugo Website and host it for free on Github Pages" class="btn btn-outline-info">
        <div><i class="fas fa-chevron-circle-left"></i> Prev</div>
        <div class="next-prev-text">How to build your own Hugo Website and host it for free on Github Pages</div>
      </a>
    </div>
  
  
      
      
        
      
      <div class="col-md-6 next-article">
        <a href="/posts/owasp-mutillidae-ii/" title="OWASP Mutillidae II Walkthrough" class="btn btn-outline-info">
          <div>Next <i class="fas fa-chevron-circle-right"></i></div>
          <div class="next-prev-text">OWASP Mutillidae II Walkthrough</div>
        </a>
      </div>
    
</div>

      <hr />
      
      
      </div>
    </div>
  </div>
  
  <a id="scroll-to-top" class="btn"><i class="fas fa-chevron-circle-up"></i></a>
  
</section>


      
      
  <section class="toc-section" id="toc-section">
    
    <div class="toc-holder">
      <h5 class="text-center pl-3">Table of Contents</h5>
      <hr>
      <div class="toc">
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#setup">Setup</a></li>
        <li><a href="#1--challenges">1 * Challenges</a>
          <ul>
            <li>
              <ul>
                <li><a href="#scoreboard">Scoreboard</a></li>
                <li><a href="#bonus-payload">Bonus Payload</a></li>
                <li><a href="#bully-chatbot">Bully Chatbot</a></li>
                <li><a href="#confidential-document">Confidential Document</a></li>
                <li><a href="#dom-xss">DOM XSS</a></li>
                <li><a href="#error-handling">Error Handling</a></li>
                <li><a href="#exposed-metrics">Exposed Metrics</a></li>
                <li><a href="#missing-encoding">Missing Encoding</a></li>
                <li><a href="#outdated-allowlist">Outdated Allowlist</a></li>
                <li><a href="#privacy-policy">Privacy Policy</a></li>
                <li><a href="#repetitive-registration">Repetitive Registration</a></li>
                <li><a href="#zero-stars">Zero Stars</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#2--challenges">2 * Challenges</a>
          <ul>
            <li>
              <ul>
                <li><a href="#admin-section">Admin Section</a></li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
      </div>
    </div>
    
  </section>

    </div>

    
    











  
  
    
  

  
  
    
  

  
  
    
    
      
    
  


  
  
  

  
  
  

  
  
  
    
  
  

  
  
  

  <footer class="container-fluid text-center align-content-center footer pb-2">
    <div class="container pt-5">
      <div class="row text-left">
        
        <div class="col-md-4 col-sm-12">
          <h5>Navigation</h5>
          
          <ul>
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="/#about">About</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="/#skills">Skills</a>
                </li>
              
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="/#accomplishments">Accomplishments</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="/#projects">Projects</a>
                </li>
              
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="/#recent-posts">Recent Posts</a>
                </li>
              
          </ul>
          
        </div>
        
        
        <div class="col-md-4 col-sm-12">
          <h5>Contact me:</h5>
          <ul>
            
            <li><span>Email: </span> <span>cmmercier86@gmail.com</span></li>
            
          </ul>
        </div>
        
        
        
      </div>
    </div>
    
    
    <hr />
    <div class="container">
      <div class="row text-left">
        <div class="col-md-4">
          <a id="theme" href="https://github.com/hossainemruz/toha" target="_blank" rel="noopener">
            <img src="/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_2.png" alt="Toha Theme Logo">
            Toha
          </a>
        </div>
        <div class="col-md-4 text-center">Â© 2021 Copyright.</div>
        <div class="col-md-4 text-right">
          <a id="hugo" href="https://gohugo.io/" target="_blank" rel="noopener">Powered by
          <img
            src="/images/hugo-logo.svg"
            alt="Hugo Logo"
            height="18"
          />
          </a>
        </div>
      </div>
    </div>
    
  </footer>


    <script type="text/javascript" src="/js/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="/js/popper.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>

<script type="text/javascript" src="/js/navbar.js"></script>
<script type="text/javascript" src="/js/plyr.js"></script>
<script type="text/javascript" src="/js/main.js"></script>


    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script src="/js/single.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>


  </body>
</html>
